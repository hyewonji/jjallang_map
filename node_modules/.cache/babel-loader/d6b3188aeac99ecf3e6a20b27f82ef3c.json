{"ast":null,"code":"import _objectSpread from\"C:/Users/wlgpd/Documents/jjallang_map-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/wlgpd/Documents/jjallang_map-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/*global kakao*/import React,{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";function KakaoMap(){var _useState=useState({latitude:33.450701,longitude:126.570667}),_useState2=_slicedToArray(_useState,2),coords=_useState2[0],setCoords=_useState2[1];useEffect(function(){navigator.geolocation.getCurrentPosition(function(data){setCoords(_objectSpread(_objectSpread({},coords),{},{latitude:data.coords.latitude,longitude:data.coords.longitude}));});},[]);useEffect(function(){var infowindow=new kakao.maps.InfoWindow({zIndex:1});var container=document.getElementById(\"map\");var options={center:new kakao.maps.LatLng(coords.latitude,coords.longitude),level:5};var map=new kakao.maps.Map(container,options);var ps=new kakao.maps.services.Places();ps.keywordSearch(\"코인 노래방\",placesSearchCB);function placesSearchCB(data,status,pagination){if(status===kakao.maps.services.Status.OK){var bounds=new kakao.maps.LatLngBounds();for(var i=0;i<data.length;i++){displayMarker(data[i]);bounds.extend(new kakao.maps.LatLng(data[i].y,data[i].x));}map.setBounds(bounds);}}function displayMarker(place){var marker=new kakao.maps.Marker({map:map,position:new kakao.maps.LatLng(place.y,place.x)});kakao.maps.event.addListener(marker,\"click\",function(){infowindow.setContent('<div style=\"padding:5px;font-size:12px;\">'+place.place_name+\"</div>\");infowindow.open(map,marker);});}},[coords]);return/*#__PURE__*/_jsx(\"div\",{id:\"map\",style:{width:\"100vw\",height:\"100vh\"}});}export default KakaoMap;","map":{"version":3,"sources":["C:/Users/wlgpd/Documents/jjallang_map-master/src/components/kakaoMap.jsx"],"names":["React","useEffect","useState","KakaoMap","latitude","longitude","coords","setCoords","navigator","geolocation","getCurrentPosition","data","infowindow","kakao","maps","InfoWindow","zIndex","container","document","getElementById","options","center","LatLng","level","map","Map","ps","services","Places","keywordSearch","placesSearchCB","status","pagination","Status","OK","bounds","LatLngBounds","i","length","displayMarker","extend","y","x","setBounds","place","marker","Marker","position","event","addListener","setContent","place_name","open","width","height"],"mappings":"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","sourcesContent":["/*global kakao*/\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\n\r\nfunction KakaoMap() {\r\n    const [coords, setCoords] = useState({\r\n        latitude: 33.450701,\r\n        longitude: 126.570667,\r\n    });\r\n\r\n    useEffect(() => {\r\n        navigator.geolocation.getCurrentPosition((data) => {\r\n            setCoords({\r\n                ...coords,\r\n                latitude: data.coords.latitude,\r\n                longitude: data.coords.longitude,\r\n            });\r\n        });\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const infowindow = new kakao.maps.InfoWindow({ zIndex: 1 });\r\n        const container = document.getElementById(\"map\");\r\n        const options = {\r\n            center: new kakao.maps.LatLng(coords.latitude, coords.longitude),\r\n            level: 5,\r\n        };\r\n        const map = new kakao.maps.Map(container, options);\r\n        const ps = new kakao.maps.services.Places();\r\n        ps.keywordSearch(\"코인 노래방\", placesSearchCB);\r\n\r\n        function placesSearchCB(data, status, pagination) {\r\n            if (status === kakao.maps.services.Status.OK) {\r\n                var bounds = new kakao.maps.LatLngBounds();\r\n\r\n                for (var i = 0; i < data.length; i++) {\r\n                    displayMarker(data[i]);\r\n                    bounds.extend(new kakao.maps.LatLng(data[i].y, data[i].x));\r\n                }\r\n                map.setBounds(bounds);\r\n            }\r\n        }\r\n\r\n        function displayMarker(place) {\r\n            var marker = new kakao.maps.Marker({\r\n                map: map,\r\n                position: new kakao.maps.LatLng(place.y, place.x),\r\n            });\r\n\r\n            kakao.maps.event.addListener(marker, \"click\", function () {\r\n                infowindow.setContent(\r\n                    '<div style=\"padding:5px;font-size:12px;\">' +\r\n                        place.place_name +\r\n                        \"</div>\"\r\n                );\r\n                infowindow.open(map, marker);\r\n            });\r\n        }\r\n    }, [coords]);\r\n\r\n    return <div id=\"map\" style={{ width: \"100vw\", height: \"100vh\" }} />;\r\n}\r\n\r\nexport default KakaoMap;\r\n"]},"metadata":{},"sourceType":"module"}